<h1 id="adding-deploy-keys-to-multiple-projects">Adding deploy keys to multiple projects</h1>

<p>If you want to easily add the same deploy key to multiple projects in the same group, this can be achieved quite easily with the API.</p>

<p>First, find the ID of the projects you&rsquo;re interested in, by either listing all projects:</p>
<pre class="highlight plaintext"><code>curl --header 'PRIVATE-TOKEN: abcdef' https://gitlab.com/api/v3/projects
</code></pre>

<p>Or finding the id of a group and then listing all projects in that group:</p>
<pre class="highlight plaintext"><code>curl --header 'PRIVATE-TOKEN: abcdef' https://gitlab.com/api/v3/groups

# For group 1234:
curl --header 'PRIVATE-TOKEN: abcdef' https://gitlab.com/api/v3/groups/1234
</code></pre>

<p>With those IDs, add the same deploy key to all:
<code class="prettyprint">
for project_id in 321 456 987; do
    curl -X POST --data &#39;{&quot;title&quot;: &quot;my key&quot;, &quot;key&quot;: &quot;ssh-rsa AAAA...&quot;}&#39; --header &#39;PRIVATE-TOKEN: abcdef&#39; https://gitlab.com/api/v3/projects/${project_id}/keys
done
</code></p>
