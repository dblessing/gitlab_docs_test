<h1 id="branches">Branches</h1>

<h2 id="list-repository-branches">List repository branches</h2>

<p>Get a list of repository branches from a project, sorted by name alphabetically.</p>
<pre class="highlight plaintext"><code>GET /projects/:id/repository/branches
</code></pre>

<p>Parameters:</p>

<ul>
<li><code class="prettyprint">id</code> (required) - The ID of a project</li>
</ul>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"commit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"author_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"author_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authored_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-27T05:51:39-07:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"committed_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-28T03:44:20-07:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"committer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"committer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b5c3cc8be40ee161ae89a06bba6229da1032a0c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add projects API"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"parent_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"4ad91d3c1144c406e50c7b33bae684bd6837faf8"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"protected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h2 id="get-single-repository-branch">Get single repository branch</h2>

<p>Get a single project repository branch.</p>
<pre class="highlight plaintext"><code>GET /projects/:id/repository/branches/:branch
</code></pre>

<p>Parameters:</p>

<ul>
<li><code class="prettyprint">id</code> (required) - The ID of a project</li>
<li><code class="prettyprint">branch</code> (required) - The name of the branch</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"commit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"author_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authored_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-27T05:51:39-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committed_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-28T03:44:20-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b5c3cc8be40ee161ae89a06bba6229da1032a0c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add projects API"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"4ad91d3c1144c406e50c7b33bae684bd6837faf8"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"protected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="protect-repository-branch">Protect repository branch</h2>

<p>Protects a single project repository branch. This is an idempotent function, protecting an already
protected repository branch still returns a <code class="prettyprint">200 OK</code> status code.</p>
<pre class="highlight plaintext"><code>PUT /projects/:id/repository/branches/:branch/protect
</code></pre>

<p>Parameters:</p>

<ul>
<li><code class="prettyprint">id</code> (required) - The ID of a project</li>
<li><code class="prettyprint">branch</code> (required) - The name of the branch</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"commit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"author_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authored_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-27T05:51:39-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committed_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-28T03:44:20-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b5c3cc8be40ee161ae89a06bba6229da1032a0c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add projects API"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"4ad91d3c1144c406e50c7b33bae684bd6837faf8"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"protected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="unprotect-repository-branch">Unprotect repository branch</h2>

<p>Unprotects a single project repository branch. This is an idempotent function, unprotecting an already
unprotected repository branch still returns a <code class="prettyprint">200 OK</code> status code.</p>
<pre class="highlight plaintext"><code>PUT /projects/:id/repository/branches/:branch/unprotect
</code></pre>

<p>Parameters:</p>

<ul>
<li><code class="prettyprint">id</code> (required) - The ID of a project</li>
<li><code class="prettyprint">branch</code> (required) - The name of the branch</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"commit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"author_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authored_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-27T05:51:39-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committed_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-28T03:44:20-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b5c3cc8be40ee161ae89a06bba6229da1032a0c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add projects API"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"4ad91d3c1144c406e50c7b33bae684bd6837faf8"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"protected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="create-repository-branch">Create repository branch</h2>
<pre class="highlight plaintext"><code>POST /projects/:id/repository/branches
</code></pre>

<p>Parameters:</p>

<ul>
<li><code class="prettyprint">id</code> (required) - The ID of a project</li>
<li><code class="prettyprint">branch_name</code> (required) - The name of the branch</li>
<li><code class="prettyprint">ref</code> (required) - Create branch from commit SHA or existing branch</li>
</ul>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"commit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"author_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authored_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-27T05:51:39-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committed_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-28T03:44:20-07:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"committer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7b5c3cc8be40ee161ae89a06bba6229da1032a0c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"add projects API"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"4ad91d3c1144c406e50c7b33bae684bd6837faf8"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"protected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>It return 200 if succeed or 400 if failed with error message explaining reason.</p>

<h2 id="delete-repository-branch">Delete repository branch</h2>
<pre class="highlight plaintext"><code>DELETE /projects/:id/repository/branches/:branch
</code></pre>

<p>Parameters:</p>

<ul>
<li><code class="prettyprint">id</code> (required) - The ID of a project</li>
<li><code class="prettyprint">branch</code> (required) - The name of the branch</li>
</ul>

<p>It return 200 if succeed, 404 if the branch to be deleted does not exist
or 400 for other reasons. In case of an error, an explaining message is provided.</p>

<p>Success response: </p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"branch_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-removed-branch"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
